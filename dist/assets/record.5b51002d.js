var te=Object.defineProperty,ne=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var R=(e,n,t)=>n in e?te(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,E=(e,n)=>{for(var t in n||(n={}))ae.call(n,t)&&R(e,t,n[t]);if(V)for(var t of V(n))oe.call(n,t)&&R(e,t,n[t]);return e},N=(e,n)=>ne(e,se(n));import{r as I,u as le,g as $,h as A,d as M,i as J,o as y,c as L,j as H,k as _,w as C,l as K,v as Q,m as v,b as h,n as b,t as F,T as W,q as re,s as S,x as X,y as ue,z as ie,A as z,B,C as D,D as ce,F as de,E as pe,G as me,H as k,I as fe,J as O,K as ve,L as Z,M as ge,p as ye,e as be,f as P}from"./index.e6d40cfd.js";import{i as j,_ as Y,c as Ce,a as he,E as we,T as Se,b as q,u as _e,d as Te,e as Ee,f as G,g as Be}from"./el-button.c8cb5153.js";import{_ as ke}from"./plugin-vue_export-helper.21dcd24c.js";const $e={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},x=I(0),Ie=()=>{const e=le("zIndex",2e3),n=$(()=>e.value+x.value);return{initialZIndex:e,currentZIndex:n,nextZIndex:()=>(x.value++,n.value)}},Ne=A({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),De=["textContent"],Le={name:"ElBadge"},Fe=M(N(E({},Le),{props:Ne,setup(e,{expose:n}){const t=e,a=J("badge"),r=$(()=>t.isDot?"":j(t.value)&&j(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`);return n({content:r}),(o,i)=>(y(),L("div",{class:b(v(a).b())},[H(o.$slots,"default"),_(W,{name:`${v(a).namespace.value}-zoom-in-center`},{default:C(()=>[K(h("sup",{class:b([v(a).e("content"),v(a).em("content",o.type),v(a).is("fixed",!!o.$slots.default),v(a).is("dot",o.isDot)]),textContent:F(v(r))},null,10,De),[[Q,!o.hidden&&(v(r)||v(r)==="0"||o.isDot)]])]),_:1},8,["name"])],2))}}));var Me=Y(Fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const ze=re(Me),U={},Oe=A({a11y:{type:Boolean,default:!0},locale:{type:S(Object)},size:{type:String,values:Ce,default:""},button:{type:S(Object)},experimentalFeatures:{type:S(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:S(Object)},zIndex:{type:Number},namespace:{type:String,default:"el"}});M({name:"ElConfigProvider",props:Oe,setup(e,{slots:n}){X(()=>e.message,a=>{Object.assign(U,a!=null?a:{})},{immediate:!0,deep:!0});const t=ue(e);return()=>H(n,"default",{config:t==null?void 0:t.value})}});const ee=["success","info","warning","error"],Pe=A({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:he,default:""},id:{type:String,default:""},message:{type:S([String,Object,Function]),default:""},onClose:{type:S(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:ee,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),je={destroy:()=>!0},Ue=M({name:"ElMessage",components:E({ElBadge:ze,ElIcon:we},Se),props:Pe,emits:je,setup(e){const n=J("message"),t=I(!1),a=I(e.type?e.type==="error"?"danger":e.type:"info");let r;const o=$(()=>{const l=e.type;return{[n.bm("icon",l)]:l&&q[l]}}),i=$(()=>e.icon||q[e.type]||""),c=$(()=>({top:`${e.offset}px`,zIndex:e.zIndex}));function u(){e.duration>0&&({stop:r}=Te(()=>{t.value&&f()},e.duration))}function s(){r==null||r()}function f(){t.value=!1}function g({code:l}){l===$e.esc?t.value&&f():u()}return ie(()=>{u(),t.value=!0}),X(()=>e.repeatNum,()=>{s(),u()}),_e(document,"keydown",g),{ns:n,typeClass:o,iconComponent:i,customStyle:c,visible:t,badgeType:a,close:f,clearTimer:s,startTimer:u}}}),Ae=["id"],He=["innerHTML"];function Ve(e,n,t,a,r,o){const i=z("el-badge"),c=z("el-icon"),u=z("close");return y(),B(W,{name:e.ns.b("fade"),onBeforeLeave:e.onClose,onAfterLeave:n[2]||(n[2]=s=>e.$emit("destroy"))},{default:C(()=>[K(h("div",{id:e.id,class:b([e.ns.b(),{[e.ns.m(e.type)]:e.type&&!e.icon},e.ns.is("center",e.center),e.ns.is("closable",e.showClose),e.customClass]),style:me(e.customStyle),role:"alert",onMouseenter:n[0]||(n[0]=(...s)=>e.clearTimer&&e.clearTimer(...s)),onMouseleave:n[1]||(n[1]=(...s)=>e.startTimer&&e.startTimer(...s))},[e.repeatNum>1?(y(),B(i,{key:0,value:e.repeatNum,type:e.badgeType,class:b(e.ns.e("badge"))},null,8,["value","type","class"])):D("v-if",!0),e.iconComponent?(y(),B(c,{key:1,class:b([e.ns.e("icon"),e.typeClass])},{default:C(()=>[(y(),B(ce(e.iconComponent)))]),_:1},8,["class"])):D("v-if",!0),H(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(y(),L(de,{key:1},[D(" Caution here, message could've been compromised, never use user's input as message "),h("p",{class:b(e.ns.e("content")),innerHTML:e.message},null,10,He)],2112)):(y(),L("p",{key:0,class:b(e.ns.e("content"))},F(e.message),3))]),e.showClose?(y(),B(c,{key:2,class:b(e.ns.e("closeBtn")),onClick:pe(e.close,["stop"])},{default:C(()=>[_(u)]),_:1},8,["class","onClick"])):D("v-if",!0)],46,Ae),[[Q,e.visible]])]),_:3},8,["name","onBeforeLeave"])}var Re=Y(Ue,[["render",Ve],["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);const m=[];let Ze=1;const T=function(e={},n){if(!Ee)return{close:()=>{}};if(j(U.max)&&m.length>=U.max)return{close:()=>{}};if(!k(e)&&fe(e)&&e.grouping&&!k(e.message)&&m.length){const g=m.find(l=>{var d,p,w;return`${(p=(d=l.vm.props)==null?void 0:d.message)!=null?p:""}`==`${(w=e.message)!=null?w:""}`});if(g)return g.vm.component.props.repeatNum+=1,g.vm.component.props.type=(e==null?void 0:e.type)||"info",{close:()=>f.component.proxy.visible=!1}}(O(e)||k(e))&&(e={message:e});let t=e.offset||20;m.forEach(({vm:g})=>{var l;t+=(((l=g.el)==null?void 0:l.offsetHeight)||0)+16}),t+=16;const{nextZIndex:a}=Ie(),r=`message_${Ze++}`,o=e.onClose,i=N(E({zIndex:a()},e),{offset:t,id:r,onClose:()=>{qe(r,o)}});let c=document.body;G(e.appendTo)?c=e.appendTo:O(e.appendTo)&&(c=document.querySelector(e.appendTo)),G(c)||(c=document.body);const u=document.createElement("div");u.className=`container_${r}`;const s=i.message,f=_(Re,i,ve(s)?{default:s}:k(s)?{default:()=>s}:null);return f.appContext=n||T._context,f.props.onDestroy=()=>{Z(null,u)},Z(f,u),m.push({vm:f}),c.appendChild(u.firstElementChild),{close:()=>f.component.proxy.visible=!1}};ee.forEach(e=>{T[e]=(n={},t)=>((O(n)||k(n))&&(n={message:n}),T(N(E({},n),{type:e}),t))});function qe(e,n){const t=m.findIndex(({vm:i})=>e===i.component.props.id);if(t===-1)return;const{vm:a}=m[t];if(!a)return;n==null||n(a);const r=a.el.offsetHeight;m.splice(t,1);const o=m.length;if(!(o<1))for(let i=t;i<o;i++){const c=Number.parseInt(m[i].vm.el.style.top,10)-r-16;m[i].vm.component.props.offset=c}}function Ge(){var e;for(let n=m.length-1;n>=0;n--){const t=m[n].vm.component;(e=t==null?void 0:t.proxy)==null||e.close()}}T.closeAll=Ge;T._context=null;const xe=ge(T,"$message");const Je=e=>(ye("data-v-a89c1cf4"),e=e(),be(),e),Ke={class:"webrtc-container"},Qe=Je(()=>h("div",{class:"local-video"},[h("video",{id:"localVideo",autoplay:"",playsinline:"",muted:""})],-1)),We={class:"control"},Xe=P("\u5206\u4EAB\u5C4F\u5E55"),Ye=M({name:"record",setup(e){function n(l=t){const d=document.querySelector("#localVideo");d.srcObject=l,d.onloadedmetadata=()=>{d.play()}}let t;async function a(){t=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),n(),o.value=!0}function r(){t.getTracks().forEach(l=>{l.stop()}),o.value=!1}let o=I(!1);function i(){o.value?r():a()}async function c(){t=await navigator.mediaDevices.getDisplayMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:{width:1920,height:1080,frameRate:60,aspectRatio:16/9}}),n()}const u=I(0);let s;function f(){if(!t){xe.warning("\u8BF7\u5148\u83B7\u53D6\u672C\u5730\u97F3\u89C6\u9891\u6D41");return}if((s==null?void 0:s.state)==="recording"){s.stop();return}const l={audioBitsPerSecond:128e3,videoBitsPerSecond:25e5,mimeType:'video/webm; codecs="vp8,opus"'},d=[];let p;s=new MediaRecorder(t,l),s.start(),s.ondataavailable=w=>{d.push(w.data)},s.onstart=()=>{p=setInterval(()=>{u.value++},1e3)},s.onstop=()=>{u.value=0,clearInterval(p);const w=new Blob(d,{type:s==null?void 0:s.mimeType});g(w),d.length=0}}function g(l){const d=URL.createObjectURL(l),p=document.createElement("a");p.href=d,p.download=`${new Date().getTime()}.${l.type.split("/")[1].split(";")[0]}`,p.click(),URL.revokeObjectURL(d)}return(l,d)=>{const p=Be;return y(),L("div",Ke,[Qe,h("div",We,[h("div",null,[_(p,{type:v(o)?"warning":"primary",onClick:i},{default:C(()=>[P(F(v(o)?"\u5173\u95ED\u6444\u50CF\u5934":"\u6253\u5F00\u6444\u50CF\u5934"),1)]),_:1},8,["type"]),_(p,{type:"primary",onClick:c},{default:C(()=>[Xe]),_:1}),_(p,{type:u.value===0?"success":"warning",onClick:f},{default:C(()=>[P(F(u.value===0?" \u5F00\u59CB\u5F55\u5236":"\u7EC8\u6B62\u5F55\u5236 | "+u.value),1)]),_:1},8,["type"])])])])}}});var at=ke(Ye,[["__scopeId","data-v-a89c1cf4"]]);export{at as default};
