var cs=Object.defineProperty,us=Object.defineProperties;var fs=Object.getOwnPropertyDescriptors;var et=Object.getOwnPropertySymbols;var mn=Object.prototype.hasOwnProperty,vn=Object.prototype.propertyIsEnumerable;var yn=(n,e,t)=>e in n?cs(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,te=(n,e)=>{for(var t in e||(e={}))mn.call(e,t)&&yn(n,t,e[t]);if(et)for(var t of et(e))vn.call(e,t)&&yn(n,t,e[t]);return n},Oe=(n,e)=>us(n,fs(e));var bn=(n,e)=>{var t={};for(var r in n)mn.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&et)for(var r of et(n))e.indexOf(r)<0&&vn.call(n,r)&&(t[r]=n[r]);return t};import{_ as yt,$ as xe,a0 as Yt,a1 as ds,a2 as or,a3 as hs,a4 as Ae,a5 as mt,a6 as ps,a7 as Re,a8 as gs,a9 as Gt,aa as ut,ab as ar,ac as Fe,ad as ft,ae as ys,d as Ee,o as P,c as j,b as H,g as A,af as ms,P as lr,r as D,h as Xt,s as $e,ag as vs,J as Ce,ah as bs,W as cr,i as He,ai as At,x as _e,z as vt,aj as he,ak as ur,S as ws,l as _s,v as As,C as L,F as Ue,n as I,m as f,j as pe,B as ne,w as G,D as je,V as xt,k as re,E as fr,t as ge,G as Ct,I as wn,q as dr,al as xs,Y as hr,a as We,am as pr,K as gr,R as dt,an as yr,ao as Et,T as Es,f as mr,Z as Ts,U as Os,ap as Ss}from"./index.e6d40cfd.js";import{h as vr,i as _n,j as $s,a as An,k as Cs,l as Rs,m as Jt,n as Ps,V as Fs,o as br,E as ke,p as Bs,_ as Zt,e as Ns,c as wr,q as _r,r as Qt,s as Rt,t as Ls,v as Is,w as xn,g as qs}from"./el-button.c8cb5153.js";import{_ as ks}from"./plugin-vue_export-helper.21dcd24c.js";var Ms=yt(xe,"WeakMap"),Pt=Ms,En=Object.create,js=function(){function n(){}return function(e){if(!Yt(e))return{};if(En)return En(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),Ds=js;function Vs(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}function Us(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}function bt(n,e,t,r){var s=!t;t||(t={});for(var i=-1,o=e.length;++i<o;){var a=e[i],l=r?r(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),s?ds(t,a,l):or(t,a,l)}return t}var Ws=9007199254740991;function Ar(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Ws}function xr(n){return n!=null&&Ar(n.length)&&!hs(n)}var zs=Object.prototype;function en(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||zs;return n===t}function Ks(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var Hs="[object Arguments]";function Tn(n){return Ae(n)&&mt(n)==Hs}var Er=Object.prototype,Ys=Er.hasOwnProperty,Gs=Er.propertyIsEnumerable,Xs=Tn(function(){return arguments}())?Tn:function(n){return Ae(n)&&Ys.call(n,"callee")&&!Gs.call(n,"callee")},Js=Xs;function Zs(){return!1}var Tr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,On=Tr&&typeof module=="object"&&module&&!module.nodeType&&module,Qs=On&&On.exports===Tr,Sn=Qs?xe.Buffer:void 0,ei=Sn?Sn.isBuffer:void 0,ti=ei||Zs,ht=ti,ni="[object Arguments]",ri="[object Array]",si="[object Boolean]",ii="[object Date]",oi="[object Error]",ai="[object Function]",li="[object Map]",ci="[object Number]",ui="[object Object]",fi="[object RegExp]",di="[object Set]",hi="[object String]",pi="[object WeakMap]",gi="[object ArrayBuffer]",yi="[object DataView]",mi="[object Float32Array]",vi="[object Float64Array]",bi="[object Int8Array]",wi="[object Int16Array]",_i="[object Int32Array]",Ai="[object Uint8Array]",xi="[object Uint8ClampedArray]",Ei="[object Uint16Array]",Ti="[object Uint32Array]",B={};B[mi]=B[vi]=B[bi]=B[wi]=B[_i]=B[Ai]=B[xi]=B[Ei]=B[Ti]=!0;B[ni]=B[ri]=B[gi]=B[si]=B[yi]=B[ii]=B[oi]=B[ai]=B[li]=B[ci]=B[ui]=B[fi]=B[di]=B[hi]=B[pi]=!1;function Oi(n){return Ae(n)&&Ar(n.length)&&!!B[mt(n)]}function tn(n){return function(e){return n(e)}}var Or=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ze=Or&&typeof module=="object"&&module&&!module.nodeType&&module,Si=ze&&ze.exports===Or,Tt=Si&&ps.process,$i=function(){try{var n=ze&&ze.require&&ze.require("util").types;return n||Tt&&Tt.binding&&Tt.binding("util")}catch{}}(),Pe=$i,$n=Pe&&Pe.isTypedArray,Ci=$n?tn($n):Oi,Sr=Ci,Ri=Object.prototype,Pi=Ri.hasOwnProperty;function $r(n,e){var t=Re(n),r=!t&&Js(n),s=!t&&!r&&ht(n),i=!t&&!r&&!s&&Sr(n),o=t||r||s||i,a=o?Ks(n.length,String):[],l=a.length;for(var p in n)(e||Pi.call(n,p))&&!(o&&(p=="length"||s&&(p=="offset"||p=="parent")||i&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||gs(p,l)))&&a.push(p);return a}function Cr(n,e){return function(t){return n(e(t))}}var Fi=Cr(Object.keys,Object),Bi=Fi,Ni=Object.prototype,Li=Ni.hasOwnProperty;function Ii(n){if(!en(n))return Bi(n);var e=[];for(var t in Object(n))Li.call(n,t)&&t!="constructor"&&e.push(t);return e}function nn(n){return xr(n)?$r(n):Ii(n)}function qi(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var ki=Object.prototype,Mi=ki.hasOwnProperty;function ji(n){if(!Yt(n))return qi(n);var e=en(n),t=[];for(var r in n)r=="constructor"&&(e||!Mi.call(n,r))||t.push(r);return t}function rn(n){return xr(n)?$r(n,!0):ji(n)}function Rr(n,e){for(var t=-1,r=e.length,s=n.length;++t<r;)n[s+t]=e[t];return n}var Di=Cr(Object.getPrototypeOf,Object),Pr=Di;function Ft(){if(!arguments.length)return[];var n=arguments[0];return Re(n)?n:[n]}function Vi(){this.__data__=new Gt,this.size=0}function Ui(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Wi(n){return this.__data__.get(n)}function zi(n){return this.__data__.has(n)}var Ki=200;function Hi(n,e){var t=this.__data__;if(t instanceof Gt){var r=t.__data__;if(!ut||r.length<Ki-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new ar(r)}return t.set(n,e),this.size=t.size,this}function ae(n){var e=this.__data__=new Gt(n);this.size=e.size}ae.prototype.clear=Vi;ae.prototype.delete=Ui;ae.prototype.get=Wi;ae.prototype.has=zi;ae.prototype.set=Hi;function Yi(n,e){return n&&bt(e,nn(e),n)}function Gi(n,e){return n&&bt(e,rn(e),n)}var Fr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cn=Fr&&typeof module=="object"&&module&&!module.nodeType&&module,Xi=Cn&&Cn.exports===Fr,Rn=Xi?xe.Buffer:void 0,Pn=Rn?Rn.allocUnsafe:void 0;function Ji(n,e){if(e)return n.slice();var t=n.length,r=Pn?Pn(t):new n.constructor(t);return n.copy(r),r}function Zi(n,e){for(var t=-1,r=n==null?0:n.length,s=0,i=[];++t<r;){var o=n[t];e(o,t,n)&&(i[s++]=o)}return i}function Br(){return[]}var Qi=Object.prototype,eo=Qi.propertyIsEnumerable,Fn=Object.getOwnPropertySymbols,to=Fn?function(n){return n==null?[]:(n=Object(n),Zi(Fn(n),function(e){return eo.call(n,e)}))}:Br,sn=to;function no(n,e){return bt(n,sn(n),e)}var ro=Object.getOwnPropertySymbols,so=ro?function(n){for(var e=[];n;)Rr(e,sn(n)),n=Pr(n);return e}:Br,Nr=so;function io(n,e){return bt(n,Nr(n),e)}function Lr(n,e,t){var r=e(n);return Re(n)?r:Rr(r,t(n))}function Bt(n){return Lr(n,nn,sn)}function oo(n){return Lr(n,rn,Nr)}var ao=yt(xe,"DataView"),Nt=ao,lo=yt(xe,"Promise"),Lt=lo,co=yt(xe,"Set"),It=co,Bn="[object Map]",uo="[object Object]",Nn="[object Promise]",Ln="[object Set]",In="[object WeakMap]",qn="[object DataView]",fo=Fe(Nt),ho=Fe(ut),po=Fe(Lt),go=Fe(It),yo=Fe(Pt),be=mt;(Nt&&be(new Nt(new ArrayBuffer(1)))!=qn||ut&&be(new ut)!=Bn||Lt&&be(Lt.resolve())!=Nn||It&&be(new It)!=Ln||Pt&&be(new Pt)!=In)&&(be=function(n){var e=mt(n),t=e==uo?n.constructor:void 0,r=t?Fe(t):"";if(r)switch(r){case fo:return qn;case ho:return Bn;case po:return Nn;case go:return Ln;case yo:return In}return e});var Ye=be,mo=Object.prototype,vo=mo.hasOwnProperty;function bo(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&vo.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var wo=xe.Uint8Array,pt=wo;function on(n){var e=new n.constructor(n.byteLength);return new pt(e).set(new pt(n)),e}function _o(n,e){var t=e?on(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var Ao=/\w*$/;function xo(n){var e=new n.constructor(n.source,Ao.exec(n));return e.lastIndex=n.lastIndex,e}var kn=ft?ft.prototype:void 0,Mn=kn?kn.valueOf:void 0;function Eo(n){return Mn?Object(Mn.call(n)):{}}function To(n,e){var t=e?on(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var Oo="[object Boolean]",So="[object Date]",$o="[object Map]",Co="[object Number]",Ro="[object RegExp]",Po="[object Set]",Fo="[object String]",Bo="[object Symbol]",No="[object ArrayBuffer]",Lo="[object DataView]",Io="[object Float32Array]",qo="[object Float64Array]",ko="[object Int8Array]",Mo="[object Int16Array]",jo="[object Int32Array]",Do="[object Uint8Array]",Vo="[object Uint8ClampedArray]",Uo="[object Uint16Array]",Wo="[object Uint32Array]";function zo(n,e,t){var r=n.constructor;switch(e){case No:return on(n);case Oo:case So:return new r(+n);case Lo:return _o(n,t);case Io:case qo:case ko:case Mo:case jo:case Do:case Vo:case Uo:case Wo:return To(n,t);case $o:return new r;case Co:case Fo:return new r(n);case Ro:return xo(n);case Po:return new r;case Bo:return Eo(n)}}function Ko(n){return typeof n.constructor=="function"&&!en(n)?Ds(Pr(n)):{}}var Ho="[object Map]";function Yo(n){return Ae(n)&&Ye(n)==Ho}var jn=Pe&&Pe.isMap,Go=jn?tn(jn):Yo,Xo=Go,Jo="[object Set]";function Zo(n){return Ae(n)&&Ye(n)==Jo}var Dn=Pe&&Pe.isSet,Qo=Dn?tn(Dn):Zo,ea=Qo,ta=1,na=2,ra=4,Ir="[object Arguments]",sa="[object Array]",ia="[object Boolean]",oa="[object Date]",aa="[object Error]",qr="[object Function]",la="[object GeneratorFunction]",ca="[object Map]",ua="[object Number]",kr="[object Object]",fa="[object RegExp]",da="[object Set]",ha="[object String]",pa="[object Symbol]",ga="[object WeakMap]",ya="[object ArrayBuffer]",ma="[object DataView]",va="[object Float32Array]",ba="[object Float64Array]",wa="[object Int8Array]",_a="[object Int16Array]",Aa="[object Int32Array]",xa="[object Uint8Array]",Ea="[object Uint8ClampedArray]",Ta="[object Uint16Array]",Oa="[object Uint32Array]",F={};F[Ir]=F[sa]=F[ya]=F[ma]=F[ia]=F[oa]=F[va]=F[ba]=F[wa]=F[_a]=F[Aa]=F[ca]=F[ua]=F[kr]=F[fa]=F[da]=F[ha]=F[pa]=F[xa]=F[Ea]=F[Ta]=F[Oa]=!0;F[aa]=F[qr]=F[ga]=!1;function it(n,e,t,r,s,i){var o,a=e&ta,l=e&na,p=e&ra;if(t&&(o=s?t(n,r,s,i):t(n)),o!==void 0)return o;if(!Yt(n))return n;var d=Re(n);if(d){if(o=bo(n),!a)return Vs(n,o)}else{var h=Ye(n),y=h==qr||h==la;if(ht(n))return Ji(n,a);if(h==kr||h==Ir||y&&!s){if(o=l||y?{}:Ko(n),!a)return l?io(n,Gi(o,n)):no(n,Yi(o,n))}else{if(!F[h])return s?n:{};o=zo(n,h,a)}}i||(i=new ae);var T=i.get(n);if(T)return T;i.set(n,o),ea(n)?n.forEach(function(v){o.add(it(v,e,t,v,n,i))}):Xo(n)&&n.forEach(function(v,g){o.set(g,it(v,e,t,g,n,i))});var _=p?l?oo:Bt:l?rn:nn,c=d?void 0:_(n);return Us(c||n,function(v,g){c&&(g=v,v=n[g]),or(o,g,it(v,e,t,g,n,i))}),o}var Sa=4;function $a(n){return it(n,Sa)}var Ca="__lodash_hash_undefined__";function Ra(n){return this.__data__.set(n,Ca),this}function Pa(n){return this.__data__.has(n)}function gt(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new ar;++e<t;)this.add(n[e])}gt.prototype.add=gt.prototype.push=Ra;gt.prototype.has=Pa;function Fa(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function Ba(n,e){return n.has(e)}var Na=1,La=2;function Mr(n,e,t,r,s,i){var o=t&Na,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var p=i.get(n),d=i.get(e);if(p&&d)return p==e&&d==n;var h=-1,y=!0,T=t&La?new gt:void 0;for(i.set(n,e),i.set(e,n);++h<a;){var _=n[h],c=e[h];if(r)var v=o?r(c,_,h,e,n,i):r(_,c,h,n,e,i);if(v!==void 0){if(v)continue;y=!1;break}if(T){if(!Fa(e,function(g,b){if(!Ba(T,b)&&(_===g||s(_,g,t,r,i)))return T.push(b)})){y=!1;break}}else if(!(_===c||s(_,c,t,r,i))){y=!1;break}}return i.delete(n),i.delete(e),y}function Ia(n){var e=-1,t=Array(n.size);return n.forEach(function(r,s){t[++e]=[s,r]}),t}function qa(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var ka=1,Ma=2,ja="[object Boolean]",Da="[object Date]",Va="[object Error]",Ua="[object Map]",Wa="[object Number]",za="[object RegExp]",Ka="[object Set]",Ha="[object String]",Ya="[object Symbol]",Ga="[object ArrayBuffer]",Xa="[object DataView]",Vn=ft?ft.prototype:void 0,Ot=Vn?Vn.valueOf:void 0;function Ja(n,e,t,r,s,i,o){switch(t){case Xa:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Ga:return!(n.byteLength!=e.byteLength||!i(new pt(n),new pt(e)));case ja:case Da:case Wa:return ys(+n,+e);case Va:return n.name==e.name&&n.message==e.message;case za:case Ha:return n==e+"";case Ua:var a=Ia;case Ka:var l=r&ka;if(a||(a=qa),n.size!=e.size&&!l)return!1;var p=o.get(n);if(p)return p==e;r|=Ma,o.set(n,e);var d=Mr(a(n),a(e),r,s,i,o);return o.delete(n),d;case Ya:if(Ot)return Ot.call(n)==Ot.call(e)}return!1}var Za=1,Qa=Object.prototype,el=Qa.hasOwnProperty;function tl(n,e,t,r,s,i){var o=t&Za,a=Bt(n),l=a.length,p=Bt(e),d=p.length;if(l!=d&&!o)return!1;for(var h=l;h--;){var y=a[h];if(!(o?y in e:el.call(e,y)))return!1}var T=i.get(n),_=i.get(e);if(T&&_)return T==e&&_==n;var c=!0;i.set(n,e),i.set(e,n);for(var v=o;++h<l;){y=a[h];var g=n[y],b=e[y];if(r)var m=o?r(b,g,y,e,n,i):r(g,b,y,n,e,i);if(!(m===void 0?g===b||s(g,b,t,r,i):m)){c=!1;break}v||(v=y=="constructor")}if(c&&!v){var O=n.constructor,E=e.constructor;O!=E&&"constructor"in n&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof E=="function"&&E instanceof E)&&(c=!1)}return i.delete(n),i.delete(e),c}var nl=1,Un="[object Arguments]",Wn="[object Array]",tt="[object Object]",rl=Object.prototype,zn=rl.hasOwnProperty;function sl(n,e,t,r,s,i){var o=Re(n),a=Re(e),l=o?Wn:Ye(n),p=a?Wn:Ye(e);l=l==Un?tt:l,p=p==Un?tt:p;var d=l==tt,h=p==tt,y=l==p;if(y&&ht(n)){if(!ht(e))return!1;o=!0,d=!1}if(y&&!d)return i||(i=new ae),o||Sr(n)?Mr(n,e,t,r,s,i):Ja(n,e,l,t,r,s,i);if(!(t&nl)){var T=d&&zn.call(n,"__wrapped__"),_=h&&zn.call(e,"__wrapped__");if(T||_){var c=T?n.value():n,v=_?e.value():e;return i||(i=new ae),s(c,v,t,r,i)}}return y?(i||(i=new ae),tl(n,e,t,r,s,i)):!1}function jr(n,e,t,r,s){return n===e?!0:n==null||e==null||!Ae(n)&&!Ae(e)?n!==n&&e!==e:sl(n,e,t,r,jr,s)}function il(n,e){return jr(n,e)}function ol(n){return n==null}class al extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function ll(n,e){throw new al(`[${n}] ${e}`)}const cl=Ee({name:"Hide"}),ul={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},fl=H("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),dl=H("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),hl=[fl,dl];function pl(n,e,t,r,s,i){return P(),j("svg",ul,hl)}var gl=vr(cl,[["render",pl]]);const yl=Ee({name:"View"}),ml={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},vl=H("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),bl=[vl];function wl(n,e,t,r,s,i){return P(),j("svg",ml,bl)}var _l=vr(yl,[["render",wl]]);const qt="update:modelValue",Al=n=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(n),xl=["class","style"],El=/^on[A-Z]/,Tl=n=>{const{excludeListeners:e=!1,excludeKeys:t}=n,r=A(()=>((t==null?void 0:t.value)||[]).concat(xl)),s=lr();return s?A(()=>{var i;return ms(Object.entries((i=s.proxy)==null?void 0:i.$attrs).filter(([o])=>!r.value.includes(o)&&!(e&&El.test(o))))}):A(()=>({}))};function Ol(n){const e=D();function t(){if(n.value==null)return;const{selectionStart:s,selectionEnd:i,value:o}=n.value;if(s==null||i==null)return;const a=o.slice(0,Math.max(0,s)),l=o.slice(Math.max(0,i));e.value={selectionStart:s,selectionEnd:i,value:o,beforeTxt:a,afterTxt:l}}function r(){if(n.value==null||e.value==null)return;const{value:s}=n.value,{beforeTxt:i,afterTxt:o,selectionStart:a}=e.value;if(i==null||o==null||a==null)return;let l=s.length;if(s.endsWith(o))l=s.length-o.length;else if(s.startsWith(i))l=i.length;else{const p=i[a-1],d=s.indexOf(p,a-1);d!==-1&&(l=d+1)}n.value.setSelectionRange(l,l)}return[t,r]}let Z;const Sl=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,$l=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Cl(n){const e=window.getComputedStyle(n),t=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),s=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:$l.map(o=>`${o}:${e.getPropertyValue(o)}`).join(";"),paddingSize:r,borderSize:s,boxSizing:t}}function Kn(n,e=1,t){var r;Z||(Z=document.createElement("textarea"),document.body.appendChild(Z));const{paddingSize:s,borderSize:i,boxSizing:o,contextStyle:a}=Cl(n);Z.setAttribute("style",`${a};${Sl}`),Z.value=n.value||n.placeholder||"";let l=Z.scrollHeight;const p={};o==="border-box"?l=l+i:o==="content-box"&&(l=l-s),Z.value="";const d=Z.scrollHeight-s;if(_n(e)){let h=d*e;o==="border-box"&&(h=h+s+i),l=Math.max(h,l),p.minHeight=`${h}px`}if(_n(t)){let h=d*t;o==="border-box"&&(h=h+s+i),l=Math.min(h,l)}return p.height=`${l}px`,(r=Z.parentNode)==null||r.removeChild(Z),Z=void 0,p}const Rl=Xt({id:{type:String,default:void 0},size:$s,disabled:Boolean,modelValue:{type:$e([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:$e([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:An,default:""},prefixIcon:{type:An,default:""},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:$e([Object,Array,String]),default:()=>vs({})}}),Pl={[qt]:n=>Ce(n),input:n=>Ce(n),change:n=>Ce(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},Fl=["role"],Bl=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder"],Nl=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],Ll={name:"ElInput",inheritAttrs:!1},Il=Ee(Oe(te({},Ll),{props:Rl,emits:Pl,setup(n,{expose:e,emit:t}){const r=n,s={suffix:"append",prefix:"prepend"},i=lr(),o=bs(),a=cr(),l=A(()=>{const u={};return r.containerRole==="combobox"&&(u["aria-haspopup"]=o["aria-haspopup"],u["aria-owns"]=o["aria-owns"],u["aria-expanded"]=o["aria-expanded"]),u}),p=Tl({excludeKeys:A(()=>Object.keys(l.value))}),{form:d,formItem:h}=Cs(),{inputId:y}=Rs(r,{formItemContext:h}),T=Jt(),_=Ps(),c=He("input"),v=He("textarea"),g=At(),b=At(),m=D(!1),O=D(!1),E=D(!1),C=D(!1),U=D(),M=At(r.inputStyle),K=A(()=>g.value||b.value),le=A(()=>{var u;return(u=d==null?void 0:d.statusIcon)!=null?u:!1}),X=A(()=>(h==null?void 0:h.validateState)||""),W=A(()=>Fs[X.value]),z=A(()=>C.value?_l:gl),Ne=A(()=>[o.style,r.inputStyle]),Je=A(()=>[r.inputStyle,M.value,{resize:r.resize}]),ee=A(()=>ol(r.modelValue)?"":String(r.modelValue)),J=A(()=>r.clearable&&!_.value&&!r.readonly&&!!ee.value&&(m.value||O.value)),Le=A(()=>r.showPassword&&!_.value&&!r.readonly&&(!!ee.value||m.value)),ce=A(()=>r.showWordLimit&&!!p.value.maxlength&&(r.type==="text"||r.type==="textarea")&&!_.value&&!r.readonly&&!r.showPassword),Ie=A(()=>Array.from(ee.value).length),Ze=A(()=>!!ce.value&&Ie.value>Number(p.value.maxlength)),qe=A(()=>!!a.suffix||!!r.suffixIcon||J.value||r.showPassword||ce.value||!!X.value&&le.value),[Qe,_t]=Ol(g);br(b,u=>{if(!ce.value||r.resize!=="both")return;const $=u[0],{width:de}=$.contentRect;U.value={right:`calc(100% - ${de+15+6}px)`}});const Te=()=>{const{type:u,autosize:$}=r;if(!(!Ns||u!=="textarea"))if($){const de=wn($)?$.minRows:void 0,ve=wn($)?$.maxRows:void 0;M.value=te({},Kn(b.value,de,ve))}else M.value={minHeight:Kn(b.value).minHeight}},ue=()=>{const u=K.value;!u||u.value===ee.value||(u.value=ee.value)},w=u=>{const{el:$}=i.vnode;if(!$)return;const ve=Array.from($.querySelectorAll(`.${c.e(u)}`)).find(ls=>ls.parentNode===$);if(!ve)return;const gn=s[u];a[gn]?ve.style.transform=`translateX(${u==="suffix"?"-":""}${$.querySelector(`.${c.be("group",gn)}`).offsetWidth}px)`:ve.removeAttribute("style")},R=()=>{w("prefix"),w("suffix")},N=async u=>{Qe();let{value:$}=u.target;r.formatter&&($=r.parser?r.parser($):$,$=r.formatter($)),!E.value&&$!==ee.value&&(t(qt,$),t("input",$),await he(),ue(),_t())},V=u=>{t("change",u.target.value)},me=u=>{t("compositionstart",u),E.value=!0},fe=u=>{var $;t("compositionupdate",u);const de=($=u.target)==null?void 0:$.value,ve=de[de.length-1]||"";E.value=!Al(ve)},cn=u=>{t("compositionend",u),E.value&&(E.value=!1,N(u))},rs=()=>{C.value=!C.value,un()},un=async()=>{var u;await he(),(u=K.value)==null||u.focus()},ss=()=>{var u;return(u=K.value)==null?void 0:u.blur()},fn=u=>{m.value=!0,t("focus",u)},dn=u=>{var $;m.value=!1,t("blur",u),r.validateEvent&&(($=h==null?void 0:h.validate)==null||$.call(h,"blur").catch(de=>void 0))},is=u=>{O.value=!1,t("mouseleave",u)},os=u=>{O.value=!0,t("mouseenter",u)},hn=u=>{t("keydown",u)},as=()=>{var u;(u=K.value)==null||u.select()},pn=()=>{t(qt,""),t("change",""),t("clear"),t("input","")};return _e(()=>r.modelValue,()=>{var u;he(()=>Te()),r.validateEvent&&((u=h==null?void 0:h.validate)==null||u.call(h,"change").catch($=>void 0))}),_e(ee,()=>ue()),_e(()=>r.type,async()=>{await he(),ue(),Te(),R()}),vt(async()=>{!r.formatter&&r.parser,ue(),R(),await he(),Te()}),ur(async()=>{await he(),R()}),e({input:g,textarea:b,ref:K,textareaStyle:Je,autosize:ws(r,"autosize"),focus:un,blur:ss,select:as,clear:pn,resizeTextarea:Te}),(u,$)=>_s((P(),j("div",xt(f(l),{class:[u.type==="textarea"?f(v).b():f(c).b(),f(c).m(f(T)),f(c).is("disabled",f(_)),f(c).is("exceed",f(Ze)),{[f(c).b("group")]:u.$slots.prepend||u.$slots.append,[f(c).bm("group","append")]:u.$slots.append,[f(c).bm("group","prepend")]:u.$slots.prepend,[f(c).m("prefix")]:u.$slots.prefix||u.prefixIcon,[f(c).m("suffix")]:u.$slots.suffix||u.suffixIcon||u.clearable||u.showPassword,[f(c).bm("suffix","password-clear")]:f(J)&&f(Le)},u.$attrs.class],style:f(Ne),role:u.containerRole,onMouseenter:os,onMouseleave:is}),[L(" input "),u.type!=="textarea"?(P(),j(Ue,{key:0},[L(" prepend slot "),u.$slots.prepend?(P(),j("div",{key:0,class:I(f(c).be("group","prepend"))},[pe(u.$slots,"prepend")],2)):L("v-if",!0),H("div",{class:I([f(c).e("wrapper"),f(c).is("focus",m.value)])},[L(" prefix slot "),u.$slots.prefix||u.prefixIcon?(P(),j("span",{key:0,class:I(f(c).e("prefix"))},[H("span",{class:I(f(c).e("prefix-inner"))},[pe(u.$slots,"prefix"),u.prefixIcon?(P(),ne(f(ke),{key:0,class:I(f(c).e("icon"))},{default:G(()=>[(P(),ne(je(u.prefixIcon)))]),_:1},8,["class"])):L("v-if",!0)],2)],2)):L("v-if",!0),H("input",xt({id:f(y),ref_key:"input",ref:g,class:f(c).e("inner")},f(p),{type:u.showPassword?C.value?"text":"password":u.type,disabled:f(_),formatter:u.formatter,parser:u.parser,readonly:u.readonly,autocomplete:u.autocomplete,tabindex:u.tabindex,"aria-label":u.label,placeholder:u.placeholder,style:u.inputStyle,onCompositionstart:me,onCompositionupdate:fe,onCompositionend:cn,onInput:N,onFocus:fn,onBlur:dn,onChange:V,onKeydown:hn}),null,16,Bl),L(" suffix slot "),f(qe)?(P(),j("span",{key:1,class:I(f(c).e("suffix"))},[H("span",{class:I(f(c).e("suffix-inner"))},[!f(J)||!f(Le)||!f(ce)?(P(),j(Ue,{key:0},[pe(u.$slots,"suffix"),u.suffixIcon?(P(),ne(f(ke),{key:0,class:I(f(c).e("icon"))},{default:G(()=>[(P(),ne(je(u.suffixIcon)))]),_:1},8,["class"])):L("v-if",!0)],64)):L("v-if",!0),f(J)?(P(),ne(f(ke),{key:1,class:I([f(c).e("icon"),f(c).e("clear")]),onMousedown:$[0]||($[0]=fr(()=>{},["prevent"])),onClick:pn},{default:G(()=>[re(f(Bs))]),_:1},8,["class"])):L("v-if",!0),f(Le)?(P(),ne(f(ke),{key:2,class:I([f(c).e("icon"),f(c).e("password")]),onClick:rs},{default:G(()=>[(P(),ne(je(f(z))))]),_:1},8,["class"])):L("v-if",!0),f(ce)?(P(),j("span",{key:3,class:I(f(c).e("count"))},[H("span",{class:I(f(c).e("count-inner"))},ge(f(Ie))+" / "+ge(f(p).maxlength),3)],2)):L("v-if",!0),f(X)&&f(W)&&f(le)?(P(),ne(f(ke),{key:4,class:I([f(c).e("icon"),f(c).e("validateIcon"),f(c).is("loading",f(X)==="validating")])},{default:G(()=>[(P(),ne(je(f(W))))]),_:1},8,["class"])):L("v-if",!0)],2)],2)):L("v-if",!0)],2),L(" append slot "),u.$slots.append?(P(),j("div",{key:1,class:I(f(c).be("group","append"))},[pe(u.$slots,"append")],2)):L("v-if",!0)],64)):(P(),j(Ue,{key:1},[L(" textarea "),H("textarea",xt({id:f(y),ref_key:"textarea",ref:b,class:f(v).e("inner")},f(p),{tabindex:u.tabindex,disabled:f(_),readonly:u.readonly,autocomplete:u.autocomplete,style:f(Je),"aria-label":u.label,placeholder:u.placeholder,onCompositionstart:me,onCompositionupdate:fe,onCompositionend:cn,onInput:N,onFocus:fn,onBlur:dn,onChange:V,onKeydown:hn}),null,16,Nl),f(ce)?(P(),j("span",{key:0,style:Ct(U.value),class:I(f(c).e("count"))},ge(f(Ie))+" / "+ge(f(p).maxlength),7)):L("v-if",!0)],64))],16,Fl)),[[As,u.type!=="hidden"]])}}));var ql=Zt(Il,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const kl=dr(ql),Ml=Xt({model:Object,rules:{type:$e(Object)},labelPosition:String,labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:wr},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),jl={validate:(n,e,t)=>(xs(n)||Ce(n))&&_r(e)&&Ce(t)};function Dl(){const n=D([]),e=A(()=>{if(!n.value.length)return"0";const i=Math.max(...n.value);return i?`${i}px`:""});function t(i){return n.value.indexOf(i)}function r(i,o){if(i&&o){const a=t(o);n.value.splice(a,1,i)}else i&&n.value.push(i)}function s(i){const o=t(i);o>-1&&n.value.splice(o,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:s}}const nt=(n,e)=>{const t=Ft(e);return t.length>0?n.filter(r=>r.prop&&t.includes(r.prop)):n},Vl={name:"ElForm"},Ul=Ee(Oe(te({},Vl),{props:Ml,emits:jl,setup(n,{expose:e,emit:t}){const r=n,s=[],i=Jt(),o=He("form"),a=A(()=>{const{labelPosition:b,inline:m}=r;return[o.b(),o.m(i.value||"default"),{[o.m(`label-${b}`)]:b,[o.m("inline")]:m}]}),l=b=>{s.push(b)},p=b=>{b.prop&&s.splice(s.indexOf(b),1)},d=(b=[])=>{!r.model||nt(s,b).forEach(m=>m.resetField())},h=(b=[])=>{nt(s,b).forEach(m=>m.clearValidate())},y=A(()=>!!r.model),T=b=>{if(s.length===0)return[];const m=nt(s,b);return m.length?m:[]},_=async b=>v(void 0,b),c=async b=>{if(!y.value)return!1;const m=T(b);if(m.length===0)return!0;let O={};for(const E of m)try{await E.validate("")}catch(C){O=te(te({},O),C)}return Object.keys(O).length===0?!0:Promise.reject(O)},v=async(b=[],m)=>{const O=!gr(m);try{const E=await c(b);return E===!0&&(m==null||m(E)),E}catch(E){const C=E;return r.scrollToError&&g(Object.keys(C)[0]),m==null||m(!1,C),O&&Promise.reject(C)}},g=b=>{var m;const O=nt(s,b)[0];O&&((m=O.$el)==null||m.scrollIntoView())};return _e(()=>r.rules,()=>{r.validateOnRuleChange&&_()},{deep:!0}),hr(Qt,We(te(Oe(te({},pr(r)),{emit:t,resetFields:d,clearValidate:h,validateField:v,addField:l,removeField:p}),Dl()))),e({validate:_,validateField:v,resetFields:d,clearValidate:h,scrollToField:g}),(b,m)=>(P(),j("form",{class:I(f(a))},[pe(b.$slots,"default")],2))}}));var Wl=Zt(Ul,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function we(){return we=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},we.apply(this,arguments)}function zl(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Ge(n,e)}function kt(n){return kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kt(n)}function Ge(n,e){return Ge=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Ge(n,e)}function Kl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ot(n,e,t){return Kl()?ot=Reflect.construct:ot=function(s,i,o){var a=[null];a.push.apply(a,i);var l=Function.bind.apply(s,a),p=new l;return o&&Ge(p,o.prototype),p},ot.apply(null,arguments)}function Hl(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function Mt(n){var e=typeof Map=="function"?new Map:void 0;return Mt=function(r){if(r===null||!Hl(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,s)}function s(){return ot(r,arguments,kt(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Ge(s,r)},Mt(n)}var Yl=/%[sdj%]/g,Gl=function(){};typeof process!="undefined"&&process.env;function jt(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function Y(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var s=0,i=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var o=n.replace(Yl,function(a){if(a==="%%")return"%";if(s>=i)return a;switch(a){case"%s":return String(t[s++]);case"%d":return Number(t[s++]);case"%j":try{return JSON.stringify(t[s++])}catch{return"[Circular]"}break;default:return a}});return o}return n}function Xl(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function k(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||Xl(e)&&typeof n=="string"&&!n)}function Jl(n,e,t){var r=[],s=0,i=n.length;function o(a){r.push.apply(r,a||[]),s++,s===i&&t(r)}n.forEach(function(a){e(a,o)})}function Hn(n,e,t){var r=0,s=n.length;function i(o){if(o&&o.length){t(o);return}var a=r;r=r+1,a<s?e(n[a],i):t([])}i([])}function Zl(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t]||[])}),e}var Yn=function(n){zl(e,n);function e(t,r){var s;return s=n.call(this,"Async Validation Error")||this,s.errors=t,s.fields=r,s}return e}(Mt(Error));function Ql(n,e,t,r,s){if(e.first){var i=new Promise(function(y,T){var _=function(g){return r(g),g.length?T(new Yn(g,jt(g))):y(s)},c=Zl(n);Hn(c,t,_)});return i.catch(function(y){return y}),i}var o=e.firstFields===!0?Object.keys(n):e.firstFields||[],a=Object.keys(n),l=a.length,p=0,d=[],h=new Promise(function(y,T){var _=function(v){if(d.push.apply(d,v),p++,p===l)return r(d),d.length?T(new Yn(d,jt(d))):y(s)};a.length||(r(d),y(s)),a.forEach(function(c){var v=n[c];o.indexOf(c)!==-1?Hn(v,t,_):Jl(v,t,_)})});return h.catch(function(y){return y}),h}function ec(n){return!!(n&&n.message!==void 0)}function tc(n,e){for(var t=n,r=0;r<e.length;r++){if(t==null)return t;t=t[e[r]]}return t}function Gn(n,e){return function(t){var r;return n.fullFields?r=tc(e,n.fullFields):r=e[t.field||n.fullField],ec(t)?(t.field=t.field||n.fullField,t.fieldValue=r,t):{message:typeof t=="function"?t():t,fieldValue:r,field:t.field||n.fullField}}}function Xn(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];typeof r=="object"&&typeof n[t]=="object"?n[t]=we({},n[t],r):n[t]=r}}return n}var Dr=function(e,t,r,s,i,o){e.required&&(!r.hasOwnProperty(e.field)||k(t,o||e.type))&&s.push(Y(i.messages.required,e.fullField))},nc=function(e,t,r,s,i){(/^\s+$/.test(t)||t==="")&&s.push(Y(i.messages.whitespace,e.fullField))},St={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},De={integer:function(e){return De.number(e)&&parseInt(e,10)===e},float:function(e){return De.number(e)&&!De.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!De.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(St.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(St.url)},hex:function(e){return typeof e=="string"&&!!e.match(St.hex)}},rc=function(e,t,r,s,i){if(e.required&&t===void 0){Dr(e,t,r,s,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;o.indexOf(a)>-1?De[a](t)||s.push(Y(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&s.push(Y(i.messages.types[a],e.fullField,e.type))},sc=function(e,t,r,s,i){var o=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=t,h=null,y=typeof t=="number",T=typeof t=="string",_=Array.isArray(t);if(y?h="number":T?h="string":_&&(h="array"),!h)return!1;_&&(d=t.length),T&&(d=t.replace(p,"_").length),o?d!==e.len&&s.push(Y(i.messages[h].len,e.fullField,e.len)):a&&!l&&d<e.min?s.push(Y(i.messages[h].min,e.fullField,e.min)):l&&!a&&d>e.max?s.push(Y(i.messages[h].max,e.fullField,e.max)):a&&l&&(d<e.min||d>e.max)&&s.push(Y(i.messages[h].range,e.fullField,e.min,e.max))},Se="enum",ic=function(e,t,r,s,i){e[Se]=Array.isArray(e[Se])?e[Se]:[],e[Se].indexOf(t)===-1&&s.push(Y(i.messages[Se],e.fullField,e[Se].join(", ")))},oc=function(e,t,r,s,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||s.push(Y(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(t)||s.push(Y(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},x={required:Dr,whitespace:nc,type:rc,range:sc,enum:ic,pattern:oc},ac=function(e,t,r,s,i){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(k(t,"string")&&!e.required)return r();x.required(e,t,s,o,i,"string"),k(t,"string")||(x.type(e,t,s,o,i),x.range(e,t,s,o,i),x.pattern(e,t,s,o,i),e.whitespace===!0&&x.whitespace(e,t,s,o,i))}r(o)},lc=function(e,t,r,s,i){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(k(t)&&!e.required)return r();x.required(e,t,s,o,i),t!==void 0&&x.type(e,t,s,o,i)}r(o)},cc=function(e,t,r,s,i){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(t===""&&(t=void 0),k(t)&&!e.required)return r();x.required(e,t,s,o,i),t!==void 0&&(x.type(e,t,s,o,i),x.range(e,t,s,o,i))}r(o)},uc=function(e,t,r,s,i){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(k(t)&&!e.required)return r();x.required(e,t,s,o,i),t!==void 0&&x.type(e,t,s,o,i)}r(o)},fc=function(e,t,r,s,i){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(k(t)&&!e.required)return r();x.required(e,t,s,o,i),k(t)||x.type(e,t,s,o,i)}r(o)},dc=function(e,t,r,s,i){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(k(t)&&!e.required)return r();x.required(e,t,s,o,i),t!==void 0&&(x.type(e,t,s,o,i),x.range(e,t,s,o,i))}r(o)},hc=function(e,t,r,s,i){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(k(t)&&!e.required)return r();x.required(e,t,s,o,i),t!==void 0&&(x.type(e,t,s,o,i),x.range(e,t,s,o,i))}r(o)},pc=function(e,t,r,s,i){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(t==null&&!e.required)return r();x.required(e,t,s,o,i,"array"),t!=null&&(x.type(e,t,s,o,i),x.range(e,t,s,o,i))}r(o)},gc=function(e,t,r,s,i){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(k(t)&&!e.required)return r();x.required(e,t,s,o,i),t!==void 0&&x.type(e,t,s,o,i)}r(o)},yc="enum",mc=function(e,t,r,s,i){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(k(t)&&!e.required)return r();x.required(e,t,s,o,i),t!==void 0&&x[yc](e,t,s,o,i)}r(o)},vc=function(e,t,r,s,i){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(k(t,"string")&&!e.required)return r();x.required(e,t,s,o,i),k(t,"string")||x.pattern(e,t,s,o,i)}r(o)},bc=function(e,t,r,s,i){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(k(t,"date")&&!e.required)return r();if(x.required(e,t,s,o,i),!k(t,"date")){var l;t instanceof Date?l=t:l=new Date(t),x.type(e,l,s,o,i),l&&x.range(e,l.getTime(),s,o,i)}}r(o)},wc=function(e,t,r,s,i){var o=[],a=Array.isArray(t)?"array":typeof t;x.required(e,t,s,o,i,a),r(o)},$t=function(e,t,r,s,i){var o=e.type,a=[],l=e.required||!e.required&&s.hasOwnProperty(e.field);if(l){if(k(t,o)&&!e.required)return r();x.required(e,t,s,a,i,o),k(t,o)||x.type(e,t,s,a,i)}r(a)},_c=function(e,t,r,s,i){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(k(t)&&!e.required)return r();x.required(e,t,s,o,i)}r(o)},Ke={string:ac,method:lc,number:cc,boolean:uc,regexp:fc,integer:dc,float:hc,array:pc,object:gc,enum:mc,pattern:vc,date:bc,url:$t,hex:$t,email:$t,required:wc,any:_c};function Dt(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Vt=Dt(),Xe=function(){function n(t){this.rules=null,this._messages=Vt,this.define(t)}var e=n.prototype;return e.define=function(r){var s=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(i){var o=r[i];s.rules[i]=Array.isArray(o)?o:[o]})},e.messages=function(r){return r&&(this._messages=Xn(Dt(),r)),this._messages},e.validate=function(r,s,i){var o=this;s===void 0&&(s={}),i===void 0&&(i=function(){});var a=r,l=s,p=i;if(typeof l=="function"&&(p=l,l={}),!this.rules||Object.keys(this.rules).length===0)return p&&p(null,a),Promise.resolve(a);function d(c){var v=[],g={};function b(O){if(Array.isArray(O)){var E;v=(E=v).concat.apply(E,O)}else v.push(O)}for(var m=0;m<c.length;m++)b(c[m]);v.length?(g=jt(v),p(v,g)):p(null,a)}if(l.messages){var h=this.messages();h===Vt&&(h=Dt()),Xn(h,l.messages),l.messages=h}else l.messages=this.messages();var y={},T=l.keys||Object.keys(this.rules);T.forEach(function(c){var v=o.rules[c],g=a[c];v.forEach(function(b){var m=b;typeof m.transform=="function"&&(a===r&&(a=we({},a)),g=a[c]=m.transform(g)),typeof m=="function"?m={validator:m}:m=we({},m),m.validator=o.getValidationMethod(m),m.validator&&(m.field=c,m.fullField=m.fullField||c,m.type=o.getType(m),y[c]=y[c]||[],y[c].push({rule:m,value:g,source:a,field:c}))})});var _={};return Ql(y,l,function(c,v){var g=c.rule,b=(g.type==="object"||g.type==="array")&&(typeof g.fields=="object"||typeof g.defaultField=="object");b=b&&(g.required||!g.required&&c.value),g.field=c.field;function m(C,U){return we({},U,{fullField:g.fullField+"."+C,fullFields:g.fullFields?[].concat(g.fullFields,[C]):[C]})}function O(C){C===void 0&&(C=[]);var U=Array.isArray(C)?C:[C];!l.suppressWarning&&U.length&&n.warning("async-validator:",U),U.length&&g.message!==void 0&&(U=[].concat(g.message));var M=U.map(Gn(g,a));if(l.first&&M.length)return _[g.field]=1,v(M);if(!b)v(M);else{if(g.required&&!c.value)return g.message!==void 0?M=[].concat(g.message).map(Gn(g,a)):l.error&&(M=[l.error(g,Y(l.messages.required,g.field))]),v(M);var K={};g.defaultField&&Object.keys(c.value).map(function(W){K[W]=g.defaultField}),K=we({},K,c.rule.fields);var le={};Object.keys(K).forEach(function(W){var z=K[W],Ne=Array.isArray(z)?z:[z];le[W]=Ne.map(m.bind(null,W))});var X=new n(le);X.messages(l.messages),c.rule.options&&(c.rule.options.messages=l.messages,c.rule.options.error=l.error),X.validate(c.value,c.rule.options||l,function(W){var z=[];M&&M.length&&z.push.apply(z,M),W&&W.length&&z.push.apply(z,W),v(z.length?z:null)})}}var E;if(g.asyncValidator)E=g.asyncValidator(g,c.value,O,c.source,l);else if(g.validator){try{E=g.validator(g,c.value,O,c.source,l)}catch(C){console.error==null||console.error(C),setTimeout(function(){throw C},0),O(C.message)}E===!0?O():E===!1?O(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||(g.fullField||g.field)+" fails"):E instanceof Array?O(E):E instanceof Error&&O(E.message)}E&&E.then&&E.then(function(){return O()},function(C){return O(C)})},function(c){d(c)},a)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Ke.hasOwnProperty(r.type))throw new Error(Y("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var s=Object.keys(r),i=s.indexOf("message");return i!==-1&&s.splice(i,1),s.length===1&&s[0]==="required"?Ke.required:Ke[this.getType(r)]||void 0},n}();Xe.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");Ke[e]=t};Xe.warning=Gl;Xe.messages=Vt;Xe.validators=Ke;const Ac=["","error","validating","success"],xc=Xt({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:$e([String,Array])},required:{type:Boolean,default:void 0},rules:{type:$e([Object,Array])},error:String,validateStatus:{type:String,values:Ac},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:wr}}),Jn="ElLabelWrap";var Ec=Ee({name:Jn,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(n,{slots:e}){const t=dt(Qt,void 0);dt(Rt)||ll(Jn,"usage: <el-form-item><label-wrap /></el-form-item>");const s=He("form"),i=D(),o=D(0),a=()=>{var d;if((d=i.value)!=null&&d.firstElementChild){const h=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(h))}else return 0},l=d=>{he(()=>{e.default&&n.isAutoWidth&&(d==="update"?o.value=a():d==="remove"&&(t==null||t.deregisterLabelWidth(o.value)))})},p=()=>l("update");return vt(()=>{p()}),yr(()=>{l("remove")}),ur(()=>p()),_e(o,(d,h)=>{n.updateAll&&(t==null||t.registerLabelWidth(d,h))}),br(A(()=>{var d,h;return(h=(d=i.value)==null?void 0:d.firstElementChild)!=null?h:null}),p),()=>{var d,h;if(!e)return null;const{isAutoWidth:y}=n;if(y){const T=t==null?void 0:t.autoLabelWidth,_={};if(T&&T!=="auto"){const c=Math.max(0,Number.parseInt(T,10)-o.value),v=t.labelPosition==="left"?"marginRight":"marginLeft";c&&(_[v]=`${c}px`)}return re("div",{ref:i,class:[s.be("item","label-wrap")],style:_},[(d=e.default)==null?void 0:d.call(e)])}else return re(Ue,{ref:i},[(h=e.default)==null?void 0:h.call(e)])}}});const Tc=["role","aria-labelledby"],Oc={name:"ElFormItem"},Sc=Ee(Oe(te({},Oc),{props:xc,setup(n,{expose:e}){const t=n,r=cr(),s=dt(Qt,void 0),i=dt(Rt,void 0),o=Jt(void 0,{formItem:!1}),a=He("form-item"),l=Ls().value,p=D([]),d=D(""),h=Is(d,100),y=D(""),T=D();let _,c=!1;const v=A(()=>{if((s==null?void 0:s.labelPosition)==="top")return{};const w=xn(t.labelWidth||(s==null?void 0:s.labelWidth)||"");return w?{width:w}:{}}),g=A(()=>{if((s==null?void 0:s.labelPosition)==="top"||(s==null?void 0:s.inline))return{};if(!t.label&&!t.labelWidth&&K)return{};const w=xn(t.labelWidth||(s==null?void 0:s.labelWidth)||"");return!t.label&&!r.label?{marginLeft:w}:{}}),b=A(()=>[a.b(),a.m(o.value),a.is("error",d.value==="error"),a.is("validating",d.value==="validating"),a.is("success",d.value==="success"),a.is("required",Ne.value||t.required),a.is("no-asterisk",s==null?void 0:s.hideRequiredAsterisk),{[a.m("feedback")]:s==null?void 0:s.statusIcon}]),m=A(()=>_r(t.inlineMessage)?t.inlineMessage:(s==null?void 0:s.inlineMessage)||!1),O=A(()=>[a.e("error"),{[a.em("error","inline")]:m.value}]),E=A(()=>t.prop?Ce(t.prop)?t.prop:t.prop.join("."):""),C=A(()=>!!(t.label||r.label)),U=A(()=>t.for||p.value.length===1?p.value[0]:void 0),M=A(()=>!U.value&&C.value),K=!!i,le=A(()=>{const w=s==null?void 0:s.model;if(!(!w||!t.prop))return Et(w,t.prop).value}),X=A(()=>{const w=t.rules?Ft(t.rules):[],R=s==null?void 0:s.rules;if(R&&t.prop){const N=Et(R,t.prop).value;N&&w.push(...Ft(N))}return t.required!==void 0&&w.push({required:!!t.required}),w}),W=A(()=>X.value.length>0),z=w=>X.value.filter(N=>!N.trigger||!w?!0:Array.isArray(N.trigger)?N.trigger.includes(w):N.trigger===w).map(me=>{var fe=me,{trigger:N}=fe,V=bn(fe,["trigger"]);return V}),Ne=A(()=>X.value.some(w=>w.required===!0)),Je=A(()=>{var w;return h.value==="error"&&t.showMessage&&((w=s==null?void 0:s.showMessage)!=null?w:!0)}),ee=A(()=>`${t.label||""}${(s==null?void 0:s.labelSuffix)||""}`),J=w=>{d.value=w},Le=w=>{var R,N;const{errors:V,fields:me}=w;(!V||!me)&&console.error(w),J("error"),y.value=V?(N=(R=V==null?void 0:V[0])==null?void 0:R.message)!=null?N:`${t.prop} is required`:"",s==null||s.emit("validate",t.prop,!1,y.value)},ce=()=>{J("success"),s==null||s.emit("validate",t.prop,!0,"")},Ie=async w=>{const R=E.value;return new Xe({[R]:w}).validate({[R]:le.value},{firstFields:!0}).then(()=>(ce(),!0)).catch(V=>(Le(V),Promise.reject(V)))},Ze=async(w,R)=>{if(c)return c=!1,!1;const N=gr(R);if(!W.value)return R==null||R(!1),!1;const V=z(w);return V.length===0?(R==null||R(!0),!0):(J("validating"),Ie(V).then(()=>(R==null||R(!0),!0)).catch(me=>{const{fields:fe}=me;return R==null||R(!1,fe),N?!1:Promise.reject(fe)}))},qe=()=>{J(""),y.value=""},Qe=async()=>{const w=s==null?void 0:s.model;if(!w||!t.prop)return;const R=Et(w,t.prop);il(R.value,_)||(c=!0),R.value=_,await he(),qe()},_t=w=>{p.value.includes(w)||p.value.push(w)},Te=w=>{p.value=p.value.filter(R=>R!==w)};_e(()=>t.error,w=>{y.value=w||"",J(w?"error":"")},{immediate:!0}),_e(()=>t.validateStatus,w=>J(w||""));const ue=We(Oe(te({},pr(t)),{$el:T,size:o,validateState:d,labelId:l,inputIds:p,isGroup:M,addInputId:_t,removeInputId:Te,resetField:Qe,clearValidate:qe,validate:Ze}));return hr(Rt,ue),vt(()=>{t.prop&&(s==null||s.addField(ue),_=$a(le.value))}),yr(()=>{s==null||s.removeField(ue)}),e({size:o,validateMessage:y,validateState:d,validate:Ze,clearValidate:qe,resetField:Qe}),(w,R)=>{var N;return P(),j("div",{ref_key:"formItemRef",ref:T,class:I(f(b)),role:f(M)?"group":void 0,"aria-labelledby":f(M)?f(l):void 0},[re(f(Ec),{"is-auto-width":f(v).width==="auto","update-all":((N=f(s))==null?void 0:N.labelWidth)==="auto"},{default:G(()=>[f(C)?(P(),ne(je(f(U)?"label":"div"),{key:0,id:f(l),for:f(U),class:I(f(a).e("label")),style:Ct(f(v))},{default:G(()=>[pe(w.$slots,"label",{label:f(ee)},()=>[mr(ge(f(ee)),1)])]),_:3},8,["id","for","class","style"])):L("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),H("div",{class:I(f(a).e("content")),style:Ct(f(g))},[pe(w.$slots,"default"),re(Es,{name:`${f(a).namespace.value}-zoom-in-top`},{default:G(()=>[f(Je)?pe(w.$slots,"error",{key:0,error:y.value},()=>[H("div",{class:I(f(O))},ge(y.value),3)]):L("v-if",!0)]),_:3},8,["name"])],6)],10,Tc)}}}));var Vr=Zt(Sc,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const $c=dr(Wl,{FormItem:Vr}),Cc=Ts(Vr);const ie=Object.create(null);ie.open="0";ie.close="1";ie.ping="2";ie.pong="3";ie.message="4";ie.upgrade="5";ie.noop="6";const at=Object.create(null);Object.keys(ie).forEach(n=>{at[ie[n]]=n});const Rc={type:"error",data:"parser error"},Pc=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Fc=typeof ArrayBuffer=="function",Bc=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Ur=({type:n,data:e},t,r)=>Pc&&e instanceof Blob?t?r(e):Zn(e,r):Fc&&(e instanceof ArrayBuffer||Bc(e))?t?r(e):Zn(new Blob([e]),r):r(ie[n]+(e||"")),Zn=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+r)},t.readAsDataURL(n)},Qn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let n=0;n<Qn.length;n++)Ve[Qn.charCodeAt(n)]=n;const Nc=n=>{let e=n.length*.75,t=n.length,r,s=0,i,o,a,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const p=new ArrayBuffer(e),d=new Uint8Array(p);for(r=0;r<t;r+=4)i=Ve[n.charCodeAt(r)],o=Ve[n.charCodeAt(r+1)],a=Ve[n.charCodeAt(r+2)],l=Ve[n.charCodeAt(r+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|a>>2,d[s++]=(a&3)<<6|l&63;return p},Lc=typeof ArrayBuffer=="function",Wr=(n,e)=>{if(typeof n!="string")return{type:"message",data:zr(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:Ic(n.substring(1),e)}:at[t]?n.length>1?{type:at[t],data:n.substring(1)}:{type:at[t]}:Rc},Ic=(n,e)=>{if(Lc){const t=Nc(n);return zr(t,e)}else return{base64:!0,data:n}},zr=(n,e)=>{switch(e){case"blob":return n instanceof ArrayBuffer?new Blob([n]):n;case"arraybuffer":default:return n}},Kr=String.fromCharCode(30),qc=(n,e)=>{const t=n.length,r=new Array(t);let s=0;n.forEach((i,o)=>{Ur(i,!1,a=>{r[o]=a,++s===t&&e(r.join(Kr))})})},kc=(n,e)=>{const t=n.split(Kr),r=[];for(let s=0;s<t.length;s++){const i=Wr(t[s],e);if(r.push(i),i.type==="error")break}return r},Hr=4;function q(n){if(n)return Mc(n)}function Mc(n){for(var e in q.prototype)n[e]=q.prototype[e];return n}q.prototype.on=q.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};q.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};q.prototype.off=q.prototype.removeListener=q.prototype.removeAllListeners=q.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,s=0;s<t.length;s++)if(r=t[s],r===e||r.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+n],this};q.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,s=t.length;r<s;++r)t[r].apply(this,e)}return this};q.prototype.emitReserved=q.prototype.emit;q.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};q.prototype.hasListeners=function(n){return!!this.listeners(n).length};const ye=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function Yr(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const jc=setTimeout,Dc=clearTimeout;function wt(n,e){e.useNativeTimers?(n.setTimeoutFn=jc.bind(ye),n.clearTimeoutFn=Dc.bind(ye)):(n.setTimeoutFn=setTimeout.bind(ye),n.clearTimeoutFn=clearTimeout.bind(ye))}const Vc=1.33;function Uc(n){return typeof n=="string"?Wc(n):Math.ceil((n.byteLength||n.size)*Vc)}function Wc(n){let e=0,t=0;for(let r=0,s=n.length;r<s;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}class zc extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class Gr extends q{constructor(e){super(),this.writable=!1,wt(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new zc(e,t,r)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Wr(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const Xr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ut=64,Kc={};let er=0,rt=0,tr;function nr(n){let e="";do e=Xr[n%Ut]+e,n=Math.floor(n/Ut);while(n>0);return e}function Jr(){const n=nr(+new Date);return n!==tr?(er=0,tr=n):n+"."+nr(er++)}for(;rt<Ut;rt++)Kc[Xr[rt]]=rt;function Zr(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function Hc(n){let e={},t=n.split("&");for(let r=0,s=t.length;r<s;r++){let i=t[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}let Qr=!1;try{Qr=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{}const Yc=Qr;function es(n){const e=n.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||Yc))return new XMLHttpRequest}catch{}if(!e)try{return new ye[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Gc(){}const Xc=function(){return new es({xdomain:!1}).responseType!=null}();class Jc extends Gr{constructor(e){if(super(e),this.polling=!1,typeof location!="undefined"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||s!==e.port,this.xs=e.secure!==r}const t=e&&e.forceBase64;this.supportsBinary=Xc&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};kc(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,qc(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Jr()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(t==="https"&&Number(this.opts.port)!==443||t==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const s=Zr(e),i=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(s.length?"?"+s:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new se(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}class se extends q{constructor(e,t){super(),wt(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.create()}create(){const e=Yr(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new es(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{t.readyState===4&&(t.status===200||t.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof t.status=="number"?t.status:0)},0))},t.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document!="undefined"&&(this.index=se.requestsCount++,se.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=Gc,e)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete se.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}se.requestsCount=0;se.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",rr);else if(typeof addEventListener=="function"){const n="onpagehide"in ye?"pagehide":"unload";addEventListener(n,rr,!1)}}function rr(){for(let n in se.requests)se.requests.hasOwnProperty(n)&&se.requests[n].abort()}const Zc=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),st=ye.WebSocket||ye.MozWebSocket,sr=!0,Qc="arraybuffer",ir=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class eu extends Gr{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=ir?{}:Yr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=sr&&!ir?t?new st(e,t):new st(e):new st(e,t,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType||Qc,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],s=t===e.length-1;Ur(r,this.supportsBinary,i=>{const o={};try{sr&&this.ws.send(i)}catch{}s&&Zc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(t==="wss"&&Number(this.opts.port)!==443||t==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Jr()),this.supportsBinary||(e.b64=1);const s=Zr(e),i=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(s.length?"?"+s:"")}check(){return!!st}}const tu={websocket:eu,polling:Jc},nu=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ru=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Wt(n){const e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let s=nu.exec(n||""),i={},o=14;for(;o--;)i[ru[o]]=s[o]||"";return t!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=su(i,i.path),i.queryKey=iu(i,i.query),i}function su(n,e){const t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&r.splice(0,1),e.substr(e.length-1,1)=="/"&&r.splice(r.length-1,1),r}function iu(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(t[s]=i)}),t}class oe extends q{constructor(e,t={}){super(),e&&typeof e=="object"&&(t=e,e=null),e?(e=Wt(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Wt(t.host).host),wt(this,t),this.secure=t.secure!=null?t.secure:typeof location!="undefined"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=t.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Hc(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=Hr,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new tu[e](r)}open(){let e;if(this.opts.rememberUpgrade&&oe.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),r=!1;oe.priorWebsocketSuccess=!1;const s=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;oe.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=t.name,this.emitReserved("upgradeError",y)}}))};function i(){r||(r=!0,d(),t.close(),t=null)}const o=h=>{const y=new Error("probe error: "+h);y.transport=t.name,i(),this.emitReserved("upgradeError",y)};function a(){o("transport closed")}function l(){o("socket closed")}function p(h){t&&h.name!==t.name&&i()}const d=()=>{t.removeListener("open",s),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",p)};t.once("open",s),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",p),t.open()}onOpen(){if(this.readyState="open",oe.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(t+=Uc(s)),r>0&&t>this.maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,s){if(typeof t=="function"&&(s=t,t=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:t,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){oe.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const s=e.length;for(;r<s;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}oe.protocol=Hr;oe.protocol;function ou(n,e="",t){let r=n;t=t||typeof location!="undefined"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t!="undefined"?n=t.protocol+"//"+n:n="https://"+n),r=Wt(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(t&&t.port===r.port?"":":"+r.port),r}const au=typeof ArrayBuffer=="function",lu=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,ts=Object.prototype.toString,cu=typeof Blob=="function"||typeof Blob!="undefined"&&ts.call(Blob)==="[object BlobConstructor]",uu=typeof File=="function"||typeof File!="undefined"&&ts.call(File)==="[object FileConstructor]";function an(n){return au&&(n instanceof ArrayBuffer||lu(n))||cu&&n instanceof Blob||uu&&n instanceof File}function lt(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(lt(n[t]))return!0;return!1}if(an(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return lt(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&lt(n[t]))return!0;return!1}function fu(n){const e=[],t=n.data,r=n;return r.data=zt(t,e),r.attachments=e.length,{packet:r,buffers:e}}function zt(n,e){if(!n)return n;if(an(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=zt(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=zt(n[r],e));return t}return n}function du(n,e){return n.data=Kt(n.data,e),n.attachments=void 0,n}function Kt(n,e){if(!n)return n;if(n&&n._placeholder)return e[n.num];if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=Kt(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=Kt(n[t],e));return n}const hu=5;var S;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(S||(S={}));class pu{constructor(e){this.replacer=e}encode(e){return(e.type===S.EVENT||e.type===S.ACK)&&lt(e)?(e.type=e.type===S.EVENT?S.BINARY_EVENT:S.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===S.BINARY_EVENT||e.type===S.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=fu(e),r=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(r),s}}class ln extends q{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string")t=this.decodeString(e),t.type===S.BINARY_EVENT||t.type===S.BINARY_ACK?(this.reconstructor=new gu(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t);else if(an(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(S[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===S.BINARY_EVENT||r.type===S.BINARY_ACK){const i=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(i,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(t+1)==="/"){const i=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(i,t)}else r.nsp="/";const s=e.charAt(t+1);if(s!==""&&Number(s)==s){const i=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}r.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(ln.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case S.CONNECT:return typeof t=="object";case S.DISCONNECT:return t===void 0;case S.CONNECT_ERROR:return typeof t=="string"||typeof t=="object";case S.EVENT:case S.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case S.ACK:case S.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class gu{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=du(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var yu=Object.freeze(Object.defineProperty({__proto__:null,protocol:hu,get PacketType(){return S},Encoder:pu,Decoder:ln},Symbol.toStringTag,{value:"Module"}));function Q(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const mu=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ns extends q{constructor(e,t,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Q(e,"open",this.onopen.bind(this)),Q(e,"packet",this.onpacket.bind(this)),Q(e,"error",this.onerror.bind(this)),Q(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(mu.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const r={type:S.EVENT,data:t};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const o=this.ids++,a=t.pop();this._registerAckCallback(o,a),r.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){const r=this.flags.timeout;if(r===void 0){this.acks[e]=t;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===e&&this.sendBuffer.splice(i,1);t.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...i)=>{this.io.clearTimeoutFn(s),t.apply(this,[null,...i])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:S.CONNECT,data:e})}):this.packet({type:S.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case S.CONNECT:if(e.data&&e.data.sid){const s=e.data.sid;this.onconnect(s)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case S.EVENT:case S.BINARY_EVENT:this.onevent(e);break;case S.ACK:case S.BINARY_ACK:this.onack(e);break;case S.DISCONNECT:this.ondisconnect();break;case S.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let r=!1;return function(...s){r||(r=!0,t.packet({type:S.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:S.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function Be(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Be.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};Be.prototype.reset=function(){this.attempts=0};Be.prototype.setMin=function(n){this.ms=n};Be.prototype.setMax=function(n){this.max=n};Be.prototype.setJitter=function(n){this.jitter=n};class Ht extends q{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,wt(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Be({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||yu;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new oe(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Q(t,"open",function(){r.onopen(),e&&e()}),i=Q(t,"error",o=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",o),e?e(o):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&s();const a=this.setTimeoutFn(()=>{s(),t.close(),t.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(s),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Q(e,"ping",this.onping.bind(this)),Q(e,"data",this.ondata.bind(this)),Q(e,"error",this.onerror.bind(this)),Q(e,"close",this.onclose.bind(this)),Q(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r||(r=new ns(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Me={};function ct(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=ou(n,e.path||"/socket.io"),r=t.source,s=t.id,i=t.path,o=Me[s]&&i in Me[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new Ht(r,e):(Me[s]||(Me[s]=new Ht(r,e)),l=Me[s]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(ct,{Manager:Ht,Socket:ns,io:ct,connect:ct});const vu={class:"ChatRoom"},bu={class:"wsMsg"},wu={id:"messages"},_u=mr(" \u53D1\u9001 "),Au=Ee({name:"index",setup(n){const e=D(""),t=D(),r=(p,d,h)=>{if(d==="")return h(new Error("Please input the message"));setTimeout(()=>{h()},500)},s=We({message:""}),i=We({message:[{validator:r,trigger:"blur"}]}),o=p=>{!p||p.validate(d=>{var h;if(d&&a.value)a.value.emit("chat message",s.message),(h=t.value)==null||h.resetFields();else return console.log("error submit!"),!1})},a=D(),l=We({list:[]});return vt(()=>{const p=window.location.hostname;a.value=ct(`https://${p}:6789`),a.value.on("connect",()=>{var d,h;e.value=`\u7528\u6237ID: ${(d=a.value)==null?void 0:d.id}`,console.log((h=a.value)==null?void 0:h.id)}),a.value.on("connect_error",()=>{setTimeout(()=>{e.value="\u9519\u8BEF\u4FE1\u606F: Connect_Error"},2e3)}),a.value.on("disconnect",()=>{var d;console.log((d=a.value)==null?void 0:d.id)}),a.value.on("message",d=>{l.list.push(d)})}),Os(()=>{a.value&&a.value.close()}),(p,d)=>{const h=kl,y=Cc,T=qs,_=$c;return P(),j("div",vu,[H("div",bu,ge(e.value),1),H("ul",wu,[(P(!0),j(Ue,null,Ss(l.list,(c,v)=>(P(),j("li",{key:v},ge(c),1))),128))]),re(_,{ref_key:"wsFormRef",ref:t,model:s,"status-icon":"",rules:i,"label-width":"120px",class:"wsForm",size:"large",inline:!0,onSubmit:d[2]||(d[2]=fr(()=>{},["prevent"]))},{default:G(()=>[re(y,{prop:"message",class:"message"},{default:G(()=>[re(h,{modelValue:s.message,"onUpdate:modelValue":d[0]||(d[0]=c=>s.message=c),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),re(y,{class:"sumbit"},{default:G(()=>[re(T,{type:"primary",onClick:d[1]||(d[1]=c=>o(t.value)),"native-type":"submit"},{default:G(()=>[_u]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}});var Su=ks(Au,[["__scopeId","data-v-7ba472c7"]]);export{Su as default};
