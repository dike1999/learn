var me=Object.defineProperty,fe=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var G=(t,s,e)=>s in t?me(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,w=(t,s)=>{for(var e in s||(s={}))J.call(s,e)&&G(t,e,s[e]);if($)for(var e of $(s))K.call(s,e)&&G(t,e,s[e]);return t},D=(t,s)=>fe(t,ge(s));var Q=(t,s)=>{var e={};for(var n in t)J.call(t,n)&&s.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&$)for(var n of $(t))s.indexOf(n)<0&&K.call(t,n)&&(e[n]=t[n]);return e};import{r as E,u as ve,g as y,h as H,d as x,i as se,j as R,o as h,c as O,k as V,l as I,w as S,m as ne,b as T,n as b,q as o,t as F,v as oe,T as ae,_ as re,s as ye,x as B,y as le,z as he,A as be,B as ue,C as Ce,D as _e,E as z,F as we,G as M,H as Se,I as Te,J as Be,K as Ee,L as W,M as ie,N as j,O as X,P as Ie,p as ke,f as xe,e as U}from"./index.7164f915.js";import{u as Ne,i as De,T as Y,a as ze,b as Le,E as ee,c as $e,d as Me,e as Oe}from"./el-button.673f29c1.js";import{_ as Fe}from"./plugin-vue_export-helper.21dcd24c.js";const Pe={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},te=E(0),Ue=()=>{const t=ve("zIndex",2e3),s=y(()=>t.value+te.value);return{initialZIndex:t,currentZIndex:s,nextZIndex:()=>(te.value++,s.value)}},Re=H({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),je=["textContent"],Ae=x({name:"ElBadge"}),He=x(D(w({},Ae),{props:Re,setup(t,{expose:s}){const e=t,n=se("badge"),a=y(()=>e.isDot?"":R(e.value)&&R(e.max)?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`);return s({content:a}),(u,d)=>(h(),O("div",{class:b(o(n).b())},[V(u.$slots,"default"),I(ae,{name:`${o(n).namespace.value}-zoom-in-center`,persisted:""},{default:S(()=>[ne(T("sup",{class:b([o(n).e("content"),o(n).em("content",u.type),o(n).is("fixed",!!u.$slots.default),o(n).is("dot",u.isDot)]),textContent:F(o(a))},null,10,je),[[oe,!u.hidden&&(o(a)||u.isDot)]])]),_:1},8,["name"])],2))}}));var Ve=re(He,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Ze=ye(Ve),A={},qe=H({a11y:{type:Boolean,default:!0},locale:{type:B(Object)},size:Ne,button:{type:B(Object)},experimentalFeatures:{type:B(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:B(Object)},zIndex:Number,namespace:{type:String,default:"el"}});x({name:"ElConfigProvider",props:qe,setup(t,{slots:s}){le(()=>t.message,n=>{Object.assign(A,n!=null?n:{})},{immediate:!0,deep:!0});const e=he(t);return()=>V(s,"default",{config:e==null?void 0:e.value})}});const ce=["success","info","warning","error"],c=be({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:ue?document.body:void 0}),Ge=H({customClass:{type:String,default:c.customClass},center:{type:Boolean,default:c.center},dangerouslyUseHTMLString:{type:Boolean,default:c.dangerouslyUseHTMLString},duration:{type:Number,default:c.duration},icon:{type:De,default:c.icon},id:{type:String,default:c.id},message:{type:B([String,Object,Function]),default:c.message},onClose:{type:B(Function),required:!1},showClose:{type:Boolean,default:c.showClose},type:{type:String,values:ce,default:c.type},offset:{type:Number,default:c.offset},zIndex:{type:Number,default:c.zIndex},grouping:{type:Boolean,default:c.grouping},repeatNum:{type:Number,default:c.repeatNum}}),Je={destroy:()=>!0},g=Ce([]),Ke=t=>{const s=g.findIndex(a=>a.id===t),e=g[s];let n;return s>0&&(n=g[s-1]),{current:e,prev:n}},Qe=t=>{const{prev:s}=Ke(t);return s?s.vm.exposed.bottom.value:0},We=["id"],Xe=["innerHTML"],Ye=x({name:"ElMessage"}),et=x(D(w({},Ye),{props:Ge,emits:Je,setup(t,{expose:s}){const e=t,{Close:n}=$e,a=se("message"),u=E(),d=E(!1),C=E(0);let p;const l=y(()=>e.type?e.type==="error"?"danger":e.type:"info"),v=y(()=>{const r=e.type;return{[a.bm("icon",r)]:r&&Y[r]}}),_=y(()=>e.icon||Y[e.type]||""),m=y(()=>Qe(e.id)),i=y(()=>e.offset+m.value),f=y(()=>C.value+i.value),N=y(()=>({top:`${i.value}px`,zIndex:e.zIndex}));function P(){e.duration!==0&&({stop:p}=Ee(()=>{L()},e.duration))}function Z(){p==null||p()}function L(){d.value=!1}function pe({code:r}){r===Pe.esc&&L()}return _e(()=>{P(),d.value=!0}),le(()=>e.repeatNum,()=>{Z(),P()}),ze(document,"keydown",pe),Le(u,()=>{C.value=u.value.getBoundingClientRect().height}),s({visible:d,bottom:f,close:L}),(r,q)=>(h(),z(ae,{name:o(a).b("fade"),onBeforeLeave:r.onClose,onAfterLeave:q[0]||(q[0]=pt=>r.$emit("destroy")),persisted:""},{default:S(()=>[ne(T("div",{id:r.id,ref_key:"messageRef",ref:u,class:b([o(a).b(),{[o(a).m(r.type)]:r.type&&!r.icon},o(a).is("center",r.center),o(a).is("closable",r.showClose),r.customClass]),style:we(o(N)),role:"alert",onMouseenter:Z,onMouseleave:P},[r.repeatNum>1?(h(),z(o(Ze),{key:0,value:r.repeatNum,type:o(l),class:b(o(a).e("badge"))},null,8,["value","type","class"])):M("v-if",!0),o(_)?(h(),z(o(ee),{key:1,class:b([o(a).e("icon"),o(v)])},{default:S(()=>[(h(),z(Se(o(_))))]),_:1},8,["class"])):M("v-if",!0),V(r.$slots,"default",{},()=>[r.dangerouslyUseHTMLString?(h(),O(Te,{key:1},[M(" Caution here, message could've been compromised, never use user's input as message "),T("p",{class:b(o(a).e("content")),innerHTML:r.message},null,10,Xe)],2112)):(h(),O("p",{key:0,class:b(o(a).e("content"))},F(r.message),3))]),r.showClose?(h(),z(o(ee),{key:2,class:b(o(a).e("closeBtn")),onClick:Be(L,["stop"])},{default:S(()=>[I(o(n))]),_:1},8,["class","onClick"])):M("v-if",!0)],46,We),[[oe,d.value]])]),_:3},8,["name","onBeforeLeave"]))}}));var tt=re(et,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let st=1;const de=t=>{const s=!t||W(t)||ie(t)||j(t)?{message:t}:t,e=w(w({},c),s);if(!e.appendTo)e.appendTo=document.body;else if(W(e.appendTo)){let n=document.querySelector(e.appendTo);Me(n)||(n=document.body),e.appendTo=n}return e},nt=t=>{const s=g.indexOf(t);if(s===-1)return;g.splice(s,1);const{handler:e}=t;e.close()},ot=(n,e)=>{var a=n,{appendTo:t}=a,s=Q(a,["appendTo"]);const{nextZIndex:u}=Ue(),d=`message_${st++}`,C=s.onClose,p=document.createElement("div"),l=D(w({},s),{zIndex:u()+s.zIndex,id:d,onClose:()=>{C==null||C(),nt(i)},onDestroy:()=>{X(null,p)}}),v=I(tt,l,j(l.message)||ie(l.message)?{default:j(l.message)?l.message:()=>l.message}:null);v.appContext=e||k._context,X(v,p),t.appendChild(p.firstElementChild);const _=v.component,i={id:d,vnode:v,vm:_,handler:{close:()=>{_.exposed.visible.value=!1}},props:v.component.props};return i},k=(t={},s)=>{if(!ue)return{close:()=>{}};if(R(A.max)&&g.length>=A.max)return{close:()=>{}};const e=de(t);if(e.grouping&&g.length){const a=g.find(({vnode:u})=>{var d;return((d=u.props)==null?void 0:d.message)===e.message});if(a)return a.props.repeatNum+=1,a.props.type=e.type,a.handler}const n=ot(e,s);return g.push(n),n.handler};ce.forEach(t=>{k[t]=(s={},e)=>{const n=de(s);return k(D(w({},n),{type:t}),e)}});function at(t){for(const s of g)(!t||t===s.props.type)&&s.handler.close()}k.closeAll=at;k._context=null;const rt=Ie(k,"$message");const lt=t=>(ke("data-v-a89c1cf4"),t=t(),xe(),t),ut={class:"webrtc-container"},it=lt(()=>T("div",{class:"local-video"},[T("video",{id:"localVideo",autoplay:"",playsinline:"",muted:""})],-1)),ct={class:"control"},dt=x({__name:"record",setup(t){function s(m=e){const i=document.querySelector("#localVideo");i.srcObject=m,i.onloadedmetadata=()=>{i.play()}}let e;async function n(){e=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),s(),u.value=!0}function a(){e.getTracks().forEach(m=>{m.stop()}),u.value=!1}let u=E(!1);function d(){u.value?a():n()}async function C(){e=await navigator.mediaDevices.getDisplayMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:{width:1920,height:1080,frameRate:60,aspectRatio:16/9}}),s()}const p=E(0);let l;function v(){if(!e){rt.warning("\u8BF7\u5148\u83B7\u53D6\u672C\u5730\u97F3\u89C6\u9891\u6D41");return}if((l==null?void 0:l.state)==="recording"){l.stop();return}const m={audioBitsPerSecond:128e3,videoBitsPerSecond:25e5,mimeType:'video/webm; codecs="vp8,opus"'},i=[];let f;l=new MediaRecorder(e,m),l.start(),l.ondataavailable=N=>{i.push(N.data)},l.onstart=()=>{f=setInterval(()=>{p.value++},1e3)},l.onstop=()=>{p.value=0,clearInterval(f);const N=new Blob(i,{type:l==null?void 0:l.mimeType});_(N),i.length=0}}function _(m){const i=URL.createObjectURL(m),f=document.createElement("a");f.href=i,f.download=`${new Date().getTime()}.${m.type.split("/")[1].split(";")[0]}`,f.click(),URL.revokeObjectURL(i)}return(m,i)=>{const f=Oe;return h(),O("div",ut,[it,T("div",ct,[T("div",null,[I(f,{type:o(u)?"warning":"primary",onClick:d},{default:S(()=>[U(F(o(u)?"\u5173\u95ED\u6444\u50CF\u5934":"\u6253\u5F00\u6444\u50CF\u5934"),1)]),_:1},8,["type"]),I(f,{type:"primary",onClick:C},{default:S(()=>[U("\u5206\u4EAB\u5C4F\u5E55")]),_:1}),I(f,{type:p.value===0?"success":"warning",onClick:v},{default:S(()=>[U(F(p.value===0?" \u5F00\u59CB\u5F55\u5236":"\u7EC8\u6B62\u5F55\u5236 | "+p.value),1)]),_:1},8,["type"])])])])}}});var yt=Fe(dt,[["__scopeId","data-v-a89c1cf4"]]);export{yt as default};
