import{d as S,r as h,a as C,c as b,b as p,e as x,t as F,o as w,p as B,f as E,E as M,g,w as y,u as k,h as z,i as I,S as R,P as T,W as D,B as L,M as P,j as V,k as U,l as A,m as W,n as q,q as G,s as N,F as H,v as J,x as K}from"./vendor-es.js";var $=(c,i)=>{const e=c.__vccOpts||c;for(const[v,a]of i)e[v]=a;return e};const O=c=>(B("data-v-7881433c"),c=c(),E(),c),Q={class:"home"},X=O(()=>p("h1",null,"home page",-1)),Y=O(()=>p("br",null,null,-1)),Z=S({__name:"index",setup(c){const i=h(0),e=C({nested:{count:0},arr:["foo","bar"]}),v=()=>{i.value++,e.nested.count+=2};return(a,l)=>(w(),b("div",Q,[X,p("div",{class:"count",id:"count",onClick:v},[x(" Click "),p("span",null,F(i.value),1),Y,p("span",null,F(e.nested.count),1)])]))}});var ee=$(Z,[["__scopeId","data-v-7881433c"]]),ve=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));const te=c=>(B("data-v-a89c1cf4"),c=c(),E(),c),oe={class:"webrtc-container"},ae=te(()=>p("div",{class:"local-video"},[p("video",{id:"localVideo",autoplay:"",playsinline:"",muted:""})],-1)),ne={class:"control"},se=S({__name:"record",setup(c){function i(u=e){const s=document.querySelector("#localVideo");s.srcObject=u,s.onloadedmetadata=()=>{s.play()}}let e;async function v(){e=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),i(),l.value=!0}function a(){e.getTracks().forEach(u=>{u.stop()}),l.value=!1}let l=h(!1);function f(){l.value?a():v()}async function n(){e=await navigator.mediaDevices.getDisplayMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:{width:1920,height:1080,frameRate:60,aspectRatio:16/9}}),i()}const _=h(0);let o;function t(){if(!e){z.warning("\u8BF7\u5148\u83B7\u53D6\u672C\u5730\u97F3\u89C6\u9891\u6D41");return}if((o==null?void 0:o.state)==="recording"){o.stop();return}const u={audioBitsPerSecond:128e3,videoBitsPerSecond:25e5,mimeType:'video/webm; codecs="vp8,opus"'},s=[];let d;o=new MediaRecorder(e,u),o.start(),o.ondataavailable=m=>{s.push(m.data)},o.onstart=()=>{d=setInterval(()=>{_.value++},1e3)},o.onstop=()=>{_.value=0,clearInterval(d);const m=new Blob(s,{type:o==null?void 0:o.mimeType});r(m),s.length=0}}function r(u){const s=URL.createObjectURL(u),d=document.createElement("a");d.href=s,d.download=`${new Date().getTime()}.${u.type.split("/")[1].split(";")[0]}`,d.click(),URL.revokeObjectURL(s)}return(u,s)=>{const d=M;return w(),b("div",oe,[ae,p("div",ne,[p("div",null,[g(d,{type:k(l)?"warning":"primary",onClick:f},{default:y(()=>[x(F(k(l)?"\u5173\u95ED\u6444\u50CF\u5934":"\u6253\u5F00\u6444\u50CF\u5934"),1)]),_:1},8,["type"]),g(d,{type:"primary",onClick:n},{default:y(()=>[x("\u5206\u4EAB\u5C4F\u5E55")]),_:1}),g(d,{type:_.value===0?"success":"warning",onClick:t},{default:y(()=>[x(F(_.value===0?" \u5F00\u59CB\u5F55\u5236":"\u7EC8\u6B62\u5F55\u5236 | "+_.value),1)]),_:1},8,["type"])])])])}}});var re=$(se,[["__scopeId","data-v-a89c1cf4"]]),fe=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"}));const ce=S({__name:"demo1",setup(c){const i=h(),e=(a,l)=>{const f=new L(...a),n=new P(l);return new V(f,n)},v=()=>{var m;const a=new R,l=e([1,1,1],{color:"#433F81"});a.add(l);const f=e([1,1,1],{color:"#A49FEF",wireframe:!0,transparent:!0});a.add(f);const n=e([3,3,3],{color:"#433F81",wireframe:!0,transparent:!0});a.add(n);const _=e([1,1,1],{color:"#A49FEF"});a.add(_);const o=e([3,3,3],{color:"#433F81",wireframe:!0,transparent:!0});a.add(o);const t=e([10,.05,.5],{color:"#00FFBC"});t.position.z=.5,a.add(t);const r=e([10,.05,.5],{color:"#ffffff"});r.position.z=.5,a.add(r);const u=new T(75,window.innerWidth/window.innerHeight,.1,1e3);u.position.z=4;const s=new D({antialias:!0});s.setClearColor("#000"),s.setSize(window.innerWidth,window.innerHeight-36),(m=i.value)==null||m.appendChild(s.domElement);const d=()=>{requestAnimationFrame(d),l.rotation.x+=.01,l.rotation.y+=.01,f.rotation.x+=.01,f.rotation.y+=.01,n.rotation.x+=.01,n.rotation.y+=.01,_.rotation.x-=.01,_.rotation.y-=.01,o.rotation.x-=.01,o.rotation.y-=.01,t.rotation.z-=.01,r.rotation.z+=.01,s.render(a,u)};d()};return I(()=>{v()}),(a,l)=>(w(),b("div",{class:"three",ref_key:"threeRef",ref:i},null,512))}}),ie=S({__name:"index",setup(c){return(i,e)=>(w(),U(ce))}});var ge=Object.freeze(Object.defineProperty({__proto__:null,default:ie},Symbol.toStringTag,{value:"Module"}));const le={class:"ChatRoom"},ue={class:"wsMsg"},de={id:"messages"},_e=S({__name:"index",setup(c){const i=h(""),e=h(),v=(o,t,r)=>{if(t==="")return r(new Error("Please input the message"));setTimeout(()=>{r()},500)},a=C({message:""}),l=C({message:[{validator:v,trigger:"blur"}]}),f=o=>{!o||o.validate(t=>{var r;if(t&&n.value)n.value.emit("chat message",a.message),(r=e.value)==null||r.resetFields();else return console.log("error submit!"),!1})},n=h(),_=C({list:[]});return I(()=>{const o=window.location.hostname;n.value=A(`https://${o}:6789`),n.value.on("connect",()=>{var t,r;i.value=`\u7528\u6237ID: ${(t=n.value)==null?void 0:t.id}`,console.log((r=n.value)==null?void 0:r.id)}),n.value.on("connect_error",()=>{setTimeout(()=>{i.value="\u9519\u8BEF\u4FE1\u606F: Connect_Error"},2e3)}),n.value.on("disconnect",()=>{var t;console.log((t=n.value)==null?void 0:t.id)}),n.value.on("message",t=>{_.list.push(t)})}),W(()=>{n.value&&n.value.close()}),(o,t)=>{const r=q,u=G,s=M,d=N;return w(),b("div",le,[p("div",ue,F(i.value),1),p("ul",de,[(w(!0),b(H,null,J(_.list,(m,j)=>(w(),b("li",{key:j},F(m),1))),128))]),g(d,{ref_key:"wsFormRef",ref:e,model:a,"status-icon":"",rules:l,"label-width":"120px",class:"wsForm",size:"large",inline:!0,onSubmit:t[2]||(t[2]=K(()=>{},["prevent"]))},{default:y(()=>[g(u,{prop:"message",class:"message"},{default:y(()=>[g(r,{modelValue:a.message,"onUpdate:modelValue":t[0]||(t[0]=m=>a.message=m),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),g(u,{class:"sumbit"},{default:y(()=>[g(s,{type:"primary",onClick:t[1]||(t[1]=m=>f(e.value)),"native-type":"submit"},{default:y(()=>[x(" \u53D1\u9001 ")]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}});var me=$(_e,[["__scopeId","data-v-7ba472c7"]]),ye=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"}));export{ge as a,ye as b,ve as i,fe as r};
